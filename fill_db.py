# -*- coding: utf-8 -*-
import sqlite3
import os

DB_PATH = "samara_bot.db"

# üîÑ –£–¥–∞–ª—è–µ–º —Å—Ç–∞—Ä—É—é –±–∞–∑—É, –µ—Å–ª–∏ –æ–Ω–∞ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç (—á—Ç–æ–±—ã –∏–∑–±–µ–∂–∞—Ç—å –¥—É–±–ª–∏–∫–∞—Ç–æ–≤)
if os.path.exists(DB_PATH):
    os.remove(DB_PATH)
    print("üßπ –°—Ç–∞—Ä–∞—è –±–∞–∑–∞ —É–¥–∞–ª–µ–Ω–∞ ‚Äî —Å–æ–∑–¥–∞—ë–º –Ω–æ–≤—É—é...")

# –°–æ–∑–¥–∞—ë–º –Ω–æ–≤—É—é –±–∞–∑—É
conn = sqlite3.connect(DB_PATH)
conn.text_factory = lambda x: str(x, "utf-8", "ignore")
cursor = conn.cursor()

# –°–æ–∑–¥–∞—ë–º —Ç–∞–±–ª–∏—Ü—É places —Å –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞–º–∏
cursor.execute("""
CREATE TABLE IF NOT EXISTS places (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    name TEXT UNIQUE,
    description TEXT,
    photo_path TEXT,
    latitude REAL,
    longitude REAL
)
""")

def add_place(name, description, photo_path, latitude=None, longitude=None):
    """–î–æ–±–∞–≤–ª—è–µ—Ç –¥–æ—Å—Ç–æ–ø—Ä–∏–º–µ—á–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å, –µ—Å–ª–∏ —Ç–∞–∫–æ–π –µ—â—ë –Ω–µ—Ç"""
    cursor.execute("""
        INSERT OR IGNORE INTO places (name, description, photo_path, latitude, longitude)
        VALUES (?, ?, ?, ?, ?)
    """, (name, description, photo_path, latitude, longitude))
    conn.commit()

# ---------- –î–û–°–¢–û–ü–†–ò–ú–ï–ß–ê–¢–ï–õ–¨–ù–û–°–¢–ò ----------

add_place(
    "–°–∞–º–∞—Ä—Å–∫–∞—è –Ω–∞–±–µ—Ä–µ–∂–Ω–∞—è",
    """–°–∞–º–∞—Ä—Å–∫–∞—è –Ω–∞–±–µ—Ä–µ–∂–Ω–∞—è ‚Äî –æ–¥–Ω–æ –∏–∑ —Å–∞–º—ã—Ö –ø–æ–ø—É–ª—è—Ä–Ω—ã—Ö –∏ –∂–∏–≤–æ–ø–∏—Å–Ω—ã—Ö –º–µ—Å—Ç –≥–æ—Ä–æ–¥–∞.
–û–Ω–∞ —Ç—è–Ω–µ—Ç—Å—è –≤–¥–æ–ª—å –±–µ—Ä–µ–≥–∞ –í–æ–ª–≥–∏ –ø–æ—á—Ç–∏ –Ω–∞ 5 –∫–∏–ª–æ–º–µ—Ç—Ä–æ–≤ –∏ —Ä–∞–∑–¥–µ–ª–µ–Ω–∞ –Ω–∞ –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ç–µ—Ä—Ä–∞—Å.
–ó–¥–µ—Å—å –º–æ–∂–Ω–æ –≤—Å—Ç—Ä–µ—Ç–∏—Ç—å —É–ª–∏—á–Ω—ã—Ö –º—É–∑—ã–∫–∞–Ω—Ç–æ–≤, —Ö—É–¥–æ–∂–Ω–∏–∫–æ–≤, —Å–ø–æ—Ä—Ç—Å–º–µ–Ω–æ–≤, –∫–∞—Ç–∞—é—â–∏—Ö—Å—è –Ω–∞ —Ä–æ–ª–∏–∫–∞—Ö –∏ –≤–µ–ª–æ—Å–∏–ø–µ–¥–∞—Ö.
–õ–µ—Ç–æ–º –Ω–∞–±–µ—Ä–µ–∂–Ω–∞—è –æ–∂–∏–≤–∞–µ—Ç: –ø—Ä–æ—Ö–æ–¥—è—Ç —Ñ–µ—Å—Ç–∏–≤–∞–ª–∏, –∫–æ–Ω—Ü–µ—Ä—Ç—ã –∏ –ø—Ä–æ–≥—É–ª–∫–∏ –Ω–∞ –∫–∞—Ç–µ—Ä–∞—Ö;
–∑–∏–º–æ–π –æ—Ç–∫—Ä—ã–≤–∞—é—Ç—Å—è –ª–µ–¥–æ–≤—ã–µ –≥–æ—Ä–∫–∏ –∏ –∫–∞—Ç–∫–∏. –° –Ω–∞–±–µ—Ä–µ–∂–Ω–æ–π –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è –ø–∞–Ω–æ—Ä–∞–º–Ω—ã–π –≤–∏–¥ –Ω–∞ –ñ–∏–≥—É–ª—ë–≤—Å–∫–∏–µ –≥–æ—Ä—ã –∏ –æ—Å—Ç—Ä–æ–≤–∞ –í–æ–ª–≥–∏.""",
    "photos/naberezhnaya.jpg",
    53.1945, 50.1024
)

add_place(
    "–ë—É–Ω–∫–µ—Ä –°—Ç–∞–ª–∏–Ω–∞",
    """–ë—É–Ω–∫–µ—Ä –°—Ç–∞–ª–∏–Ω–∞ ‚Äî —É–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏–π –æ–±—ä–µ–∫—Ç, —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω–Ω—ã–π –≤ –°–∞–º–∞—Ä–µ.
–ü–æ—Å—Ç—Ä–æ–µ–Ω –≤ 1942 –≥–æ–¥—É –≤ —É—Å–ª–æ–≤–∏—è—Ö —Å—Ç—Ä–æ–∂–∞–π—à–µ–π —Å–µ–∫—Ä–µ—Ç–Ω–æ—Å—Ç–∏ –Ω–∞ –≥–ª—É–±–∏–Ω–µ 37 –º–µ—Ç—Ä–æ–≤.
–≠—Ç–æ –æ–¥–Ω–æ –∏–∑ —Å–∞–º—ã—Ö –≥–ª—É–±–æ–∫–∏—Ö –∏ —Ö–æ—Ä–æ—à–æ —Å–æ—Ö—Ä–∞–Ω–∏–≤—à–∏—Ö—Å—è –∑–∞—â–∏—Ç–Ω—ã—Ö —Å–æ–æ—Ä—É–∂–µ–Ω–∏–π –≤—Ä–µ–º—ë–Ω –í—Ç–æ—Ä–æ–π –º–∏—Ä–æ–≤–æ–π –≤–æ–π–Ω—ã.
–°–µ–≥–æ–¥–Ω—è –±—É–Ω–∫–µ—Ä –æ—Ç–∫—Ä—ã—Ç –∫–∞–∫ –º—É–∑–µ–π –∏ –¥–æ—Å—Ç—É–ø–µ–Ω –¥–ª—è –ø–æ—Å–µ—â–µ–Ω–∏—è —ç–∫—Å–∫—É—Ä—Å–∏—è–º–∏.""",
    "photos/bunker_stalina.jpg",
    53.1966, 50.1005
)

add_place(
    "–ú–æ–Ω—É–º–µ–Ω—Ç '–õ–∞–¥—å—è'",
    """–ú–æ–Ω—É–º–µ–Ω—Ç '–õ–∞–¥—å—è' ‚Äî —Å–∏–º–≤–æ–ª –°–∞–º–∞—Ä—ã, —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–π –≤ 1986 –≥–æ–¥—É –∫ 400-–ª–µ—Ç–∏—é –≥–æ—Ä–æ–¥–∞.
–° –æ–±–∑–æ—Ä–Ω–æ–π –ø–ª–æ—â–∞–¥–∫–∏ –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è –∫—Ä–∞—Å–∏–≤—ã–π –≤–∏–¥ –Ω–∞ –í–æ–ª–≥—É –∏ –ñ–∏–≥—É–ª—ë–≤—Å–∫–∏–µ –≥–æ—Ä—ã ‚Äî –ª—é–±–∏–º–æ–µ –º–µ—Å—Ç–æ –¥–ª—è –ø—Ä–æ–≥—É–ª–æ–∫ –∏ —Ñ–æ—Ç–æ—Å–µ—Å—Å–∏–π.""",
    "photos/ladya.jpg",
    53.1865, 50.0911
)

add_place(
    "–ü–ª–æ—â–∞–¥—å –ö—É–π–±—ã—à–µ–≤–∞",
    """–ü–ª–æ—â–∞–¥—å –ö—É–π–±—ã—à–µ–≤–∞ ‚Äî —Ü–µ–Ω—Ç—Ä–∞–ª—å–Ω–∞—è –ø–ª–æ—â–∞–¥—å –°–∞–º–∞—Ä—ã –∏ –æ–¥–Ω–∞ –∏–∑ –∫—Ä—É–ø–Ω–µ–π—à–∏—Ö –≤ –ï–≤—Ä–æ–ø–µ.
–ó–¥–µ—Å—å –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –∑–¥–∞–Ω–∏–µ —Ç–µ–∞—Ç—Ä–∞ –æ–ø–µ—Ä—ã –∏ –±–∞–ª–µ—Ç–∞, –ø—Ä–æ—Ö–æ–¥—è—Ç –≥–æ—Ä–æ–¥—Å–∫–∏–µ –ø—Ä–∞–∑–¥–Ω–∏–∫–∏ –∏ –∫–æ–Ω—Ü–µ—Ä—Ç—ã.""",
    "photos/kuibyshev_square.jpg",
    53.1959, 50.1021
)

add_place(
    "–ñ–∏–≥—É–ª—ë–≤—Å–∫–∏–π –ø–∏–≤–∑–∞–≤–æ–¥",
    """–ñ–∏–≥—É–ª—ë–≤—Å–∫–∏–π –ø–∏–≤–∑–∞–≤–æ–¥ –æ—Å–Ω–æ–≤–∞–Ω –≤ 1881 –≥–æ–¥—É –∏ –∏–∑–≤–µ—Å—Ç–µ–Ω –ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–æ–º –∫–ª–∞—Å—Å–∏—á–µ—Å–∫–æ–≥–æ "–ñ–∏–≥—É–ª—ë–≤—Å–∫–æ–≥–æ" –ø–∏–≤–∞.
–ù–∞ —Ç–µ—Ä—Ä–∏—Ç–æ—Ä–∏–∏ –∑–∞–≤–æ–¥–∞ –µ—Å—Ç—å –º—É–∑–µ–π –ø–∏–≤–æ–≤–∞—Ä–µ–Ω–∏—è –∏ –¥–µ–≥—É—Å—Ç–∞—Ü–∏–æ–Ω–Ω—ã–π –∑–∞–ª.""",
    "photos/zhigulevsky.jpg",
    53.1867, 50.0997
)

add_place(
    "–ú—É–∑–µ–π –∫–æ—Å–º–æ–Ω–∞–≤—Ç–∏–∫–∏ –∏–º. –ö–æ—Ä–æ–ª—ë–≤–∞",
    """–ú—É–∑–µ–π –∫–æ—Å–º–æ–Ω–∞–≤—Ç–∏–∫–∏ –∏–º–µ–Ω–∏ –°. –ü. –ö–æ—Ä–æ–ª—ë–≤–∞ –ø–æ—Å–≤—è—â—ë–Ω –∏—Å—Ç–æ—Ä–∏–∏ —Ä–∞–∫–µ—Ç–æ—Å—Ç—Ä–æ–µ–Ω–∏—è –∏ –æ—Å–≤–æ–µ–Ω–∏—è –∫–æ—Å–º–æ—Å–∞.
–í —ç–∫—Å–ø–æ–∑–∏—Ü–∏–∏ ‚Äî —Ä–µ–∞–ª—å–Ω—ã–µ –∫–æ—Å–º–∏—á–µ—Å–∫–∏–µ –¥–≤–∏–≥–∞—Ç–µ–ª–∏, –º–∞–∫–µ—Ç—ã –∞–ø–ø–∞—Ä–∞—Ç–æ–≤ –∏ —Å–∫–∞—Ñ–∞–Ω–¥—Ä—ã.""",
    "photos/cosmos_museum.jpg",
    53.2404, 50.2217
)

add_place(
    "–ò–≤–µ—Ä—Å–∫–∏–π –º–æ–Ω–∞—Å—Ç—ã—Ä—å",
    """–°–∞–º–∞—Ä—Å–∫–∏–π –ò–≤–µ—Ä—Å–∫–∏–π –∂–µ–Ω—Å–∫–∏–π –º–æ–Ω–∞—Å—Ç—ã—Ä—å ‚Äî –æ–¥–∏–Ω –∏–∑ —Å—Ç–∞—Ä–µ–π—à–∏—Ö –¥—É—Ö–æ–≤–Ω—ã—Ö —Ü–µ–Ω—Ç—Ä–æ–≤ –≥–æ—Ä–æ–¥–∞.
–û—Å–Ω–æ–≤–∞–Ω –≤ 1850 –≥–æ–¥—É, —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω –Ω–∞ –±–µ—Ä–µ–≥—É –í–æ–ª–≥–∏. –ì–ª–∞–≤–Ω–∞—è —Å–≤—è—Ç—ã–Ω—è ‚Äî —á—É–¥–æ—Ç–≤–æ—Ä–Ω–∞—è –ò–≤–µ—Ä—Å–∫–∞—è –∏–∫–æ–Ω–∞ –ë–æ–∂–∏–µ–π –ú–∞—Ç–µ—Ä–∏.""",
    "photos/iversky_monastery.jpg",
    53.1888, 50.0745
)

add_place(
    "–ü–∞—Ä–∫ –ì–∞–≥–∞—Ä–∏–Ω–∞",
    """–ü–∞—Ä–∫ –ì–∞–≥–∞—Ä–∏–Ω–∞ ‚Äî –æ–¥–Ω–æ –∏–∑ —Å–∞–º—ã—Ö –∑–µ–ª—ë–Ω—ã—Ö –∏ —É—é—Ç–Ω—ã—Ö –º–µ—Å—Ç –°–∞–º–∞—Ä—ã.
–ë–æ–ª—å—à–∞—è —Ç–µ—Ä—Ä–∏—Ç–æ—Ä–∏—è —Å –∞–ª–ª–µ—è–º–∏, –ø—Ä—É–¥–∞–º–∏, –¥–µ—Ç—Å–∫–∏–º–∏ –ø–ª–æ—â–∞–¥–∫–∞–º–∏ –∏ –∞—Ç—Ç—Ä–∞–∫—Ü–∏–æ–Ω–∞–º–∏.
–ó–∏–º–æ–π –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è –∫–∞—Ç–æ–∫, –ª–µ—Ç–æ–º –ø—Ä–æ—Ö–æ–¥—è—Ç —Ñ–µ—Å—Ç–∏–≤–∞–ª–∏ –∏ –∫–æ–Ω—Ü–µ—Ä—Ç—ã.""",
    "photos/gagarin_park.jpg",
    53.2224, 50.1827
)

# –ü—Ä–æ–≤–µ—Ä–∏–º, —Å–∫–æ–ª—å–∫–æ –º–µ—Å—Ç –¥–æ–±–∞–≤–ª–µ–Ω–æ
cursor.execute("SELECT COUNT(*) FROM places")
count = cursor.fetchone()[0]

print(f"‚úÖ –í –±–∞–∑—É —É—Å–ø–µ—à–Ω–æ –¥–æ–±–∞–≤–ª–µ–Ω–æ {count} –¥–æ—Å—Ç–æ–ø—Ä–∏–º–µ—á–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–µ–π!")
conn.close()
